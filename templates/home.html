{% extends 'base.html' %}

{% load widget_tweaks %}

{% block content %}
    <div class="container">
        <h1>Mailburn</h1>
        <form method="POST">
            {% csrf_token %}
            <div>{{ form.errors }}</div>
            <div class="form-group">
                {{ form.to|add_class:"form-control"|attr:"placeholder:To" }}
            </div>
            <div class="form-group">
                {{ form.subject|add_class:"form-control"|attr:"placeholder:Subject" }}
            </div>
            <div class="form-group">
                {{ form.text|add_class:"form-control"|attr:"placeholder:Body" }}
            </div>
            <div class="form-group">
                <button class="btn btn-primary btn-block">Send</button>
            </div>
        </form>
        <table class="table">
            <thead>
                <td>#</td>
                <td>To</td>
                <td>Subject</td>
                <td>Body</td>
                <td>Status</td>
            </thead>
            <tbody>
                {% for m in mails %}
                    <tr>
                        <td>{{ m.pk }}</td>
                        <td>{{ m.to }}</td>
                        <td>{{ m.subject }}</td>
                        <td>{{ m.text }}</td>
                        <td>{{ m.get_status_display }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}